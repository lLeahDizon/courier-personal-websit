(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["certification"],{"1ea8":function(e,t,n){"use strict";n("468c")},"3e8c":function(e,t,n){"use strict";n("f427")},"468c":function(e,t,n){},"6cbe":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"certification-wrapper"},[n("h1",{staticClass:"title"},[e._v("为保证您的账户安全")]),n("p",{staticClass:"desc"},[e._v("请先完成实名认证哦~")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{placeholder:"请输入真实姓名"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("div",{staticClass:"input",class:{placeholder:!e.id},on:{click:function(t){e.show=!0}}},[e._v(e._s(e.id||"请输入15位或18位身份证号"))]),n("van-uploader",{staticClass:"upload",attrs:{"max-count":1,deletable:"","after-read":e.afterRead},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}}),n("div",{staticClass:"tips-wrapper"},e._l(e.tips,(function(t,a){return n("div",{key:a,staticClass:"tips"},[n("Icon",{attrs:{name:"login-default"}}),e._v(" "+e._s(t)+" ")],1)})),0),n("div",{staticClass:"btn-wrapper"},[n("button",{staticClass:"btn",on:{click:e.showModal}},[e._v("开始认证")]),n("van-checkbox",{model:{value:e.agreementSelected,callback:function(t){e.agreementSelected=t},expression:"agreementSelected"}},[e._v("勾选即代表您同意"),n("a",[e._v("《环球旅递隐私政策》")])])],1),n("van-number-keyboard",{attrs:{show:e.show,"extra-key":"X","close-button-text":"完成"},on:{blur:function(t){e.show=!1},input:e.onInput,delete:e.onDelete}}),n("ModalTips",{attrs:{show:e.showDialog,name:e.name},on:{"update:show":function(t){e.showDialog=t},onSubmit:e.onSubmit}})],1)},i=[],s=n("1da1"),o=(n("96cf"),n("b0c0"),n("caad"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-popup",{staticClass:"modal-wrapper",attrs:{round:"","close-on-click-overlay":!1,"get-container":"#app"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("Icon",{attrs:{name:"certification-close"},on:{click:e.onClose}}),n("h1",{staticClass:"title"},[e._v("实名认证")]),n("p",{staticClass:"desc"},[e._v("人脸识别验证您的身份信息，请确保为 "),n("span",{staticClass:"name"},[e._v(e._s(e.name))]),e._v(" 本人操作")]),n("button",{staticClass:"btn",on:{click:e.onCertificate}},[e._v("确认")])],1)}),c=[],r={props:["show","name"],data:function(){return{visible:!1}},watch:{show:function(e){this.visible=e}},methods:{onClose:function(){this.$emit("update:show",!1)},onCertificate:function(){this.$emit("onSubmit"),this.onClose()}}},l=r,u=(n("3e8c"),n("2877")),d=Object(u["a"])(l,o,c,!1,null,"540eb0e0",null),p=d.exports,f=n("ed08"),m=n("8e44"),h={name:"Certification",components:{ModalTips:p},data:function(){return{tips:["不要佩戴眼镜","不要遮挡脸部","不仰头俯视","周围环境光线明亮"],fileList:[],name:"",id:"",agreementSelected:!0,show:!1,showDialog:!1}},methods:{showModal:function(){return this.name?[15,18].includes(this.id.length)?this.agreementSelected?void(this.showDialog=!0):Object(f["a"])("请勾选《环球旅递隐私政策》"):Object(f["a"])("请输入正确的身份证号"):Object(f["a"])("请输入姓名")},onSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m["g"])({idCard:e.id,realName:e.name,faceImgUrl:""});case 3:n=t.sent,console.log(n),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(f["a"])(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},afterRead:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,n=new FormData,n.append("file",e.file),t.next=6,Object(m["a"])(n);case 6:a=t.sent,console.log(a),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),Object(f["a"])(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},onInput:function(e){this.id.length<18&&(this.id+=e)},onDelete:function(){this.id&&(this.id=this.id.substr(0,this.id.length-1))}}},v=h,b=(n("1ea8"),Object(u["a"])(v,a,i,!1,null,"7d9de94a",null));t["default"]=b.exports},f427:function(e,t,n){}}]);
//# sourceMappingURL=certification.3b2bb43e.js.map