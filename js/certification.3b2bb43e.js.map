{"version":3,"sources":["webpack:///./src/views/Certification.vue?21fb","webpack:///./src/components/Certification/ModalTips.vue?e9f6","webpack:///./src/views/Certification.vue?1a05","webpack:///./src/components/Certification/ModalTips.vue?9aa5","webpack:///src/components/Certification/ModalTips.vue","webpack:///./src/components/Certification/ModalTips.vue?e6ae","webpack:///./src/components/Certification/ModalTips.vue","webpack:///src/views/Certification.vue","webpack:///./src/views/Certification.vue?141c","webpack:///./src/views/Certification.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","class","id","show","_s","afterRead","model","callback","$$v","fileList","_l","item","index","key","showModal","agreementSelected","onInput","onDelete","showDialog","onSubmit","staticRenderFns","visible","onClose","onCertificate","props","data","watch","val","methods","$emit","component","components","tips","includes","length","substr"],"mappings":"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","file":"js/certification.3b2bb43e.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Certification.vue?vue&type=style&index=0&id=7d9de94a&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTips.vue?vue&type=style&index=0&id=540eb0e0&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"certification-wrapper\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"为保证您的账户安全\")]),_c('p',{staticClass:\"desc\"},[_vm._v(\"请先完成实名认证哦~\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],attrs:{\"placeholder\":\"请输入真实姓名\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_c('div',{staticClass:\"input\",class:{'placeholder':!_vm.id},on:{\"click\":function($event){_vm.show=true}}},[_vm._v(_vm._s(_vm.id || '请输入15位或18位身份证号'))]),_c('van-uploader',{staticClass:\"upload\",attrs:{\"max-count\":1,\"deletable\":\"\",\"after-read\":_vm.afterRead},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}}),_c('div',{staticClass:\"tips-wrapper\"},_vm._l((_vm.tips),function(item,index){return _c('div',{key:index,staticClass:\"tips\"},[_c('Icon',{attrs:{\"name\":\"login-default\"}}),_vm._v(\" \"+_vm._s(item)+\" \")],1)}),0),_c('div',{staticClass:\"btn-wrapper\"},[_c('button',{staticClass:\"btn\",on:{\"click\":_vm.showModal}},[_vm._v(\"开始认证\")]),_c('van-checkbox',{model:{value:(_vm.agreementSelected),callback:function ($$v) {_vm.agreementSelected=$$v},expression:\"agreementSelected\"}},[_vm._v(\"勾选即代表您同意\"),_c('a',[_vm._v(\"《环球旅递隐私政策》\")])])],1),_c('van-number-keyboard',{attrs:{\"show\":_vm.show,\"extra-key\":\"X\",\"close-button-text\":\"完成\"},on:{\"blur\":function($event){_vm.show = false},\"input\":_vm.onInput,\"delete\":_vm.onDelete}}),_c('ModalTips',{attrs:{\"show\":_vm.showDialog,\"name\":_vm.name},on:{\"update:show\":function($event){_vm.showDialog=$event},\"onSubmit\":_vm.onSubmit}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-popup',{staticClass:\"modal-wrapper\",attrs:{\"round\":\"\",\"close-on-click-overlay\":false,\"get-container\":\"#app\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('Icon',{attrs:{\"name\":\"certification-close\"},on:{\"click\":_vm.onClose}}),_c('h1',{staticClass:\"title\"},[_vm._v(\"实名认证\")]),_c('p',{staticClass:\"desc\"},[_vm._v(\"人脸识别验证您的身份信息，请确保为 \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.name))]),_vm._v(\" 本人操作\")]),_c('button',{staticClass:\"btn\",on:{\"click\":_vm.onCertificate}},[_vm._v(\"确认\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <van-popup v-model=\"visible\" class=\"modal-wrapper\" round :close-on-click-overlay=\"false\" get-container=\"#app\">\n    <Icon name=\"certification-close\" @click=\"onClose\"/>\n    <h1 class=\"title\">实名认证</h1>\n    <p class=\"desc\">人脸识别验证您的身份信息，请确保为&nbsp;<span class=\"name\">{{ name }}</span>&nbsp;本人操作</p>\n    <button class=\"btn\" @click=\"onCertificate\">确认</button>\n  </van-popup>\n</template>\n\n<script>\nexport default {\n  props: ['show','name'],\n  data() {\n    return {\n      visible: false\n    }\n  },\n  watch: {\n    show(val) {\n      this.visible = val\n    }\n  },\n  methods: {\n    onClose() {\n      this.$emit('update:show', false)\n    },\n    onCertificate() {\n      this.$emit('onSubmit')\n      this.onClose()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-wrapper {\n  padding: 36px 80px 40px;\n  text-align: center;\n  min-width: 580px;\n\n  > .icon {\n    position: absolute;\n    top: 24px;\n    right: 24px;\n    font-size: 30px;\n  }\n\n  > .title {\n    font-size: 36px;\n    font-weight: 500;\n    color: #333333;\n    line-height: 50px;\n  }\n\n  > .desc {\n    padding: 40px 0 60px;\n    color: #333333;\n    font-size: 28px;\n    line-height: 40px;\n\n    > .name {\n      font-weight: bold;\n    }\n  }\n\n  > .btn {\n    background: #12a0ff;\n    border-radius: 50px;\n    width: 100%;\n    padding: 20px 0;\n    font-size: 36px;\n    color: #FFFFFF;\n    line-height: 42px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTips.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTips.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalTips.vue?vue&type=template&id=540eb0e0&scoped=true&\"\nimport script from \"./ModalTips.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalTips.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModalTips.vue?vue&type=style&index=0&id=540eb0e0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"540eb0e0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"certification-wrapper\">\n    <h1 class=\"title\">为保证您的账户安全</h1>\n    <p class=\"desc\">请先完成实名认证哦~</p>\n    <input v-model=\"name\" placeholder=\"请输入真实姓名\">\n    <div class=\"input\" :class=\"{'placeholder':!id}\" @click=\"show=true\">{{ id || '请输入15位或18位身份证号' }}</div>\n    <van-uploader v-model=\"fileList\" class=\"upload\" :max-count=\"1\" deletable :after-read=\"afterRead\"/>\n    <div class=\"tips-wrapper\">\n      <div v-for=\"(item, index) in tips\" :key=\"index\" class=\"tips\">\n        <Icon name=\"login-default\"/>\n        {{ item }}\n      </div>\n    </div>\n    <div class=\"btn-wrapper\">\n      <button class=\"btn\" @click=\"showModal\">开始认证</button>\n      <van-checkbox v-model=\"agreementSelected\">勾选即代表您同意<a>《环球旅递隐私政策》</a></van-checkbox>\n    </div>\n    <van-number-keyboard\n      :show=\"show\"\n      extra-key=\"X\"\n      close-button-text=\"完成\"\n      @blur=\"show = false\"\n      @input=\"onInput\"\n      @delete=\"onDelete\"\n    />\n    <ModalTips :show.sync=\"showDialog\" :name=\"name\" @onSubmit=\"onSubmit\"/>\n  </div>\n</template>\n\n<script>\nimport ModalTips from '@/components/Certification/ModalTips'\nimport {$error} from '@/utils'\nimport {fileUpload, userVerify} from '@/service'\n\nexport default {\n  name: 'Certification',\n  components: {ModalTips},\n  data() {\n    return {\n      tips: ['不要佩戴眼镜', '不要遮挡脸部', '不仰头俯视', '周围环境光线明亮'],\n      fileList: [],\n      name: '',\n      id: '',\n      agreementSelected: true,\n      show: false,\n      showDialog: false\n    }\n  },\n  methods: {\n    showModal() {\n      if (!this.name) {\n        return $error('请输入姓名')\n      }\n      if (![15, 18].includes(this.id.length)) {\n        return $error('请输入正确的身份证号')\n      }\n      if (!this.agreementSelected) {\n        return $error('请勾选《环球旅递隐私政策》')\n      }\n      this.showDialog = true\n    },\n    async onSubmit() {\n      try {\n        const data = await userVerify({\n          idCard: this.id,\n          realName: this.name,\n          faceImgUrl: ''\n        })\n        console.log(data)\n      } catch (e) {\n        $error(e)\n      }\n    },\n    async afterRead(file) {\n      console.log(file)\n      try {\n        let params = new FormData()\n        params.append('file', file.file)\n        const result = await fileUpload(params)\n        console.log(result)\n      } catch (e) {\n        $error(e)\n      }\n    },\n    onInput(value) {\n      if (this.id.length < 18) {\n        this.id += value\n      }\n    },\n    onDelete() {\n      if (this.id) {\n        this.id = this.id.substr(0, this.id.length - 1)\n      }\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.certification-wrapper {\n  position: relative;\n  padding: 80px 60px 0;\n\n  .btn {\n    background: #12a0ff;\n    border-radius: 50px;\n    padding: 20px 0;\n    font-size: 36px;\n    line-height: 48px;\n    color: white;\n    width: 100%;\n\n    &-wrapper {\n      position: fixed;\n      left: 60px;\n      right: 60px;\n      bottom: 48px;\n\n      ::v-deep .van-checkbox {\n        display: flex;\n        align-items: center;\n        padding-top: 40px;\n      }\n\n      ::v-deep .van-checkbox__icon {\n        font-size: 30px;\n      }\n\n      ::v-deep .van-checkbox__label {\n        font-size: 26px;\n        line-height: 34px;\n        color: #666666;\n\n        a {\n          color: #12a0ff;\n        }\n      }\n    }\n  }\n\n  > .title {\n    font-size: 48px;\n    color: #333333;\n    line-height: 68px;\n    font-weight: bold;\n  }\n\n  > .desc {\n    padding: 16px 0 40px;\n    font-size: 28px;\n    color: #333333;\n    line-height: 40px;\n  }\n\n  .input {\n    font-size: 36px;\n    line-height: 50px;\n    padding: 60px 0 24px;\n    width: 100%;\n    border-bottom: 1px solid #e6e6e6;\n\n    &.placeholder {\n      color: #aaaaaa;\n    }\n  }\n\n  > .upload {\n    padding-top: 60px;\n  }\n\n  > .tips-wrapper {\n    display: flex;\n    flex-wrap: wrap;\n    padding-top: 16px;\n\n    > .tips {\n      display: flex;\n      align-items: center;\n      padding-right: 20px;\n      line-height: 32px;\n      font-size: 24px;\n      padding-bottom: 10px;\n      color: #888888;\n\n      > .icon {\n        margin-right: 4px;\n      }\n    }\n  }\n\n  > input {\n    font-size: 36px;\n    line-height: 50px;\n    padding: 60px 0 24px;\n    width: 100%;\n    border-bottom: 1px solid #e6e6e6;\n  }\n\n  > input::-webkit-input-placeholder {\n    color: #aaaaaa;\n  }\n\n  > input::-moz-placeholder {\n    color: #aaaaaa;\n  }\n\n  > input:-moz-placeholder {\n    color: #aaaaaa;\n  }\n\n  > input:-ms-input-placeholder {\n    color: #aaaaaa;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Certification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Certification.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Certification.vue?vue&type=template&id=7d9de94a&scoped=true&\"\nimport script from \"./Certification.vue?vue&type=script&lang=js&\"\nexport * from \"./Certification.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Certification.vue?vue&type=style&index=0&id=7d9de94a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d9de94a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}